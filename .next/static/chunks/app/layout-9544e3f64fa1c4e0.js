(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{14091:function(t,e,i){Promise.resolve().then(i.t.bind(i,14811,23)),Promise.resolve().then(i.t.bind(i,2778,23)),Promise.resolve().then(i.bind(i,72114))},72114:function(t,e,i){"use strict";i.d(e,{default:function(){return r}});var s=i(57437);i(2265);var n=i(14362),o=i(57972);function r(t){let{children:e}=t;return(0,s.jsx)(n.H,{children:(0,s.jsx)(o.vR,{children:e})})}},14362:function(t,e,i){"use strict";i.d(e,{H:function(){return l},a:function(){return r}});var s=i(57437),n=i(2265);let o=(0,n.createContext)(void 0),r=()=>{let t=(0,n.useContext)(o);if(void 0===t)throw Error("useAuth must be used within an AuthProvider");return t},c={id:"demo-user-1",name:"John Doe",email:"demo@ticketshub.com",phone:"+91 98765 43210",avatar:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=150",tickets:[]},l=t=>{let{children:e}=t,[i,r]=(0,n.useState)(null),[l,a]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let t=()=>{let t=localStorage.getItem("ticketshub_user"),e=localStorage.getItem("ticketshub_tickets"),i=e?JSON.parse(e):[];if(t){let e=JSON.parse(t),s={...e,tickets:i.length>0?i:e.tickets||[]};r(s),a(!0),localStorage.setItem("ticketshub_tickets",JSON.stringify(s.tickets))}else r(null),a(!1)};return t(),window.addEventListener("focus",t),window.addEventListener("storage",t),()=>{window.removeEventListener("focus",t),window.removeEventListener("storage",t)}},[]);let u=async(t,e)=>{let i=localStorage.getItem("ticketshub_tickets"),s=i?JSON.parse(i):[];if("demo@ticketshub.com"===t&&"demo123"===e){let t={...c,tickets:s};return r(t),a(!0),localStorage.setItem("ticketshub_user",JSON.stringify(t)),localStorage.setItem("ticketshub_tickets",JSON.stringify(t.tickets)),!0}if(t&&e){let e={id:"user-".concat(Date.now()),name:t.split("@")[0],email:t,phone:"+91 98765 43210",tickets:s};return r(e),a(!0),localStorage.setItem("ticketshub_user",JSON.stringify(e)),localStorage.setItem("ticketshub_tickets",JSON.stringify(e.tickets)),!0}return!1},m=async t=>{let e=localStorage.getItem("ticketshub_tickets"),i=e?JSON.parse(e):[],s={id:"user-".concat(Date.now()),name:t.name,email:t.email,phone:t.phone,tickets:i};return r(s),a(!0),localStorage.setItem("ticketshub_user",JSON.stringify(s)),localStorage.setItem("ticketshub_tickets",JSON.stringify(s.tickets)),!0},k=t=>btoa(JSON.stringify({eventId:t.eventId,eventTitle:t.eventTitle,quantity:t.quantity,venue:t.venue,date:t.eventDate,time:t.eventTime}));return(0,s.jsx)(o.Provider,{value:{user:i,login:u,signup:m,logout:()=>{i&&i.tickets&&i.tickets.length>0&&localStorage.setItem("ticketshub_tickets",JSON.stringify(i.tickets)),r(null),a(!1),localStorage.removeItem("ticketshub_user"),window.location.href="/"},isAuthenticated:l,addTicket:t=>{let e=localStorage.getItem("ticketshub_user"),s=e?JSON.parse(e):i;if(!s)return;let n={...t,id:"ticket-".concat(Date.now()),bookingDate:new Date().toISOString(),qrCode:k(t),status:"confirmed"},o={...s,tickets:[...s.tickets||[],n]};r(o),localStorage.setItem("ticketshub_user",JSON.stringify(o)),localStorage.setItem("ticketshub_tickets",JSON.stringify(o.tickets))}},children:e})}},57972:function(t,e,i){"use strict";i.d(e,{TH:function(){return c},vR:function(){return r}});var s=i(57437),n=i(2265);let o=(0,n.createContext)(void 0),r=t=>{let{children:e}=t,[i,r]=(0,n.useState)(null),[c,l]=(0,n.useState)(null),[a,u]=(0,n.useState)(!1);(0,n.useEffect)(()=>{try{let i=localStorage.getItem("selected_location");if(i){var t,e;let s=JSON.parse(i);r(null!==(t=s.city)&&void 0!==t?t:null),l(null!==(e=s.stateName)&&void 0!==e?e:null)}else u(!0)}catch(t){u(!0)}},[]);let m=(t,e)=>{try{t?localStorage.setItem("selected_location",JSON.stringify({city:t,stateName:null!=e?e:null})):localStorage.removeItem("selected_location")}catch(t){}};return(0,s.jsx)(o.Provider,{value:{city:i,stateName:c,showSelector:a,setCity:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r(t),l(e),m(t,e),u(!1)},clearCity:()=>{r(null),l(null),m(null),u(!0)},openSelector:()=>u(!0),closeSelector:()=>u(!1)},children:e})},c=()=>{let t=(0,n.useContext)(o);if(!t)throw Error("useLocation must be used within LocationProvider");return t}},2778:function(){},14811:function(t){t.exports={style:{fontFamily:"'__Inter_e8ce0c', '__Inter_Fallback_e8ce0c'",fontStyle:"normal"},className:"__className_e8ce0c"}}},function(t){t.O(0,[2,971,117,744],function(){return t(t.s=14091)}),_N_E=t.O()}]);